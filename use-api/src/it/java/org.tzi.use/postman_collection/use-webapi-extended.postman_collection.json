{
	"info": {
		"_postman_id": "e8a9f2d1-4f5c-4b2e-9a1c-3d5e6f7a8b9c",
		"name": "use-webapi-extended",
		"description": "Extended test collection for USE Web API with comprehensive test cases for models, classes, invariants, and associations",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json",
		"_exporter_id": "38619616"
	},
	"item": [
		{
			"name": "Model Tests",
			"item": [
				{
					"name": "Create Model - Success",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response contains model data\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.be.an('object');",
									"    pm.expect(responseJson).to.have.property('name');",
									"    pm.expect(responseJson.name).to.equal('TestModel');",
									"});",
									"",
									"pm.test(\"Response contains HATEOAS links\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('_links');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"TestModel\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model"
					},
					"response": []
				},
				{
					"name": "Create Model - Empty Name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400 or 500\", function () {",
									"    pm.expect([400, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model"
					},
					"response": []
				},
				{
					"name": "Get Model by Name - Success",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response contains model data\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.be.an('object');",
									"    pm.expect(responseJson).to.have.property('name');",
									"});",
									"",
									"pm.test(\"Response contains HATEOAS links\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('_links');",
									"    pm.expect(responseJson._links).to.have.property('self');",
									"    pm.expect(responseJson._links).to.have.property('classes');",
									"    pm.expect(responseJson._links).to.have.property('invariants');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/model/TestModel"
					},
					"response": []
				},
				{
					"name": "Get Model by Name - Not Found",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 404 or 500\", function () {",
									"    pm.expect([404, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/model/NonExistentModel"
					},
					"response": []
				},
				{
					"name": "Get All Models",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response contains models collection\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.be.an('object');",
									"    pm.expect(responseJson).to.have.property('_embedded');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/models"
					},
					"response": []
				}
			]
		},
		{
			"name": "Class Tests",
			"item": [
				{
					"name": "Create Class in Model - Success",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response contains class data\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.be.an('object');",
									"    pm.expect(responseJson).to.have.property('name_mclass');",
									"    pm.expect(responseJson.name_mclass).to.equal('Person');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"Person\",\n    \"attributes\": [\n        {\n            \"name_attr\": \"name\",\n            \"type\": \"String\"\n        },\n        {\n            \"name_attr\": \"age\",\n            \"type\": \"Integer\"\n        }\n    ],\n    \"operations\": [\n        {\n            \"head\": \"getFullInfo()\",\n            \"body\": null\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "Create Class - Multiple Attributes Different Types",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response contains all attributes\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson.attributes).to.be.an('array');",
									"    pm.expect(responseJson.attributes).to.have.lengthOf(5);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"Employee\",\n    \"attributes\": [\n        {\n            \"name_attr\": \"id\",\n            \"type\": \"Integer\"\n        },\n        {\n            \"name_attr\": \"firstName\",\n            \"type\": \"String\"\n        },\n        {\n            \"name_attr\": \"lastName\",\n            \"type\": \"String\"\n        },\n        {\n            \"name_attr\": \"salary\",\n            \"type\": \"Real\"\n        },\n        {\n            \"name_attr\": \"isActive\",\n            \"type\": \"Boolean\"\n        }\n    ],\n    \"operations\": []\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "Create Class - Multiple Operations",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response contains all operations\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson.operations).to.be.an('array');",
									"    pm.expect(responseJson.operations).to.have.lengthOf(3);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"Calculator\",\n    \"attributes\": [],\n    \"operations\": [\n        {\n            \"head\": \"add(a:Integer, b:Integer):Integer\",\n            \"body\": null\n        },\n        {\n            \"head\": \"subtract(a:Integer, b:Integer):Integer\",\n            \"body\": null\n        },\n        {\n            \"head\": \"multiply(a:Integer, b:Integer):Integer\",\n            \"body\": null\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "Get Model Classes - Success",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response contains classes collection\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.be.an('object');",
									"    pm.expect(responseJson).to.have.property('_embedded');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/model/TestModel/classes"
					},
					"response": []
				},
				{
					"name": "Create Class - Invalid Attribute Type",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400 or 500\", function () {",
									"    pm.expect([400, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"InvalidClass\",\n    \"attributes\": [\n        {\n            \"name_attr\": \"field\",\n            \"type\": \"InvalidType\"\n        }\n    ],\n    \"operations\": []\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "Create Class - Null Attributes",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201 or handles null gracefully\", function () {",
									"    pm.expect([201, 400, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"NullAttributesClass\",\n    \"attributes\": null,\n    \"operations\": null\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				}
			]
		},
		{
			"name": "Invariant Tests",
			"item": [
				{
					"name": "Create Invariant - Success",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response contains invariant data\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.be.an('object');",
									"    pm.expect(responseJson).to.have.property('invName');",
									"    pm.expect(responseJson).to.have.property('invBody');",
									"});",
									"",
									"pm.test(\"Response contains HATEOAS links\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('_links');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invName\": \"PositiveAge\",\n    \"invBody\": \"self.age > 0\",\n    \"isExistential\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/Person/invariant"
					},
					"response": []
				},
				{
					"name": "Create Invariant - Existential",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Invariant is existential\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson.isExistential).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invName\": \"HasEmployees\",\n    \"invBody\": \"Employee.allInstances()->notEmpty()\",\n    \"isExistential\": true\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/Employee/invariant"
					},
					"response": []
				},
				{
					"name": "Create Invariant - Empty Name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400 or 500\", function () {",
									"    pm.expect([400, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invName\": \"\",\n    \"invBody\": \"self.age > 0\",\n    \"isExistential\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/Person/invariant"
					},
					"response": []
				},
				{
					"name": "Create Invariant - Empty Body",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400 or 500\", function () {",
									"    pm.expect([400, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invName\": \"EmptyBodyInv\",\n    \"invBody\": \"\",\n    \"isExistential\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/Person/invariant"
					},
					"response": []
				},
				{
					"name": "Get Model Invariants - Success",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response contains invariants collection\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.be.an('object');",
									"    pm.expect(responseJson).to.have.property('_embedded');",
									"});",
									"",
									"pm.test(\"Response contains HATEOAS links\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('_links');",
									"    pm.expect(responseJson._links).to.have.property('self');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/model/TestModel/invariants"
					},
					"response": []
				},
				{
					"name": "Create Invariant - Complex Expression",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response contains complex invariant\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson.invName).to.equal('ValidSalary');",
									"    pm.expect(responseJson.invBody).to.include('salary');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invName\": \"ValidSalary\",\n    \"invBody\": \"self.salary >= 0 and self.salary <= 1000000\",\n    \"isExistential\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/Employee/invariant"
					},
					"response": []
				}
			]
		},
		{
			"name": "Edge Cases and Error Handling",
			"item": [
				{
					"name": "Create Model - Duplicate Name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400, 409, or 500\", function () {",
									"    pm.expect([400, 409, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"TestModel\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model"
					},
					"response": []
				},
				{
					"name": "Create Class - Duplicate Class Name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400, 409, or 500\", function () {",
									"    pm.expect([400, 409, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"Person\",\n    \"attributes\": [],\n    \"operations\": []\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "Create Class - Special Characters in Name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response code indicates success or validation error\", function () {",
									"    pm.expect([201, 400, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"Class@#$%\",\n    \"attributes\": [],\n    \"operations\": []\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "Create Class - Very Long Name",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Response code indicates success or validation error\", function () {",
									"    pm.expect([201, 400, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"ThisIsAVeryLongClassNameThatExceedsNormalExpectationsAndMightCauseIssuesWithTheSystem\",\n    \"attributes\": [],\n    \"operations\": []\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "Create Invariant - Non-existent Class",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 404 or 500\", function () {",
									"    pm.expect([404, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invName\": \"SomeInvariant\",\n    \"invBody\": \"self.field > 0\",\n    \"isExistential\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/NonExistentClass/invariant"
					},
					"response": []
				},
				{
					"name": "Get Classes - Non-existent Model",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 404 or 500\", function () {",
									"    pm.expect([404, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/model/NonExistentModel/classes"
					},
					"response": []
				}
			]
		},
		{
			"name": "Performance Tests",
			"item": [
				{
					"name": "GET Models - Response Time",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response time is below 500ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(500);",
									"});",
									"",
									"pm.test(\"Response time is below 1000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(1000);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/models"
					},
					"response": []
				},
				{
					"name": "POST Model - Response Time",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"let iter = pm.info.iteration || 0;",
									"let uniqueName = `PerfModel-${iter}-${Date.now()}`;",
									"pm.environment.set(\"uniqueModelName\", uniqueName);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response time is below 500ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(500);",
									"});",
									"",
									"pm.test(\"Response time is below 1000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(1000);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"{{uniqueModelName}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model"
					},
					"response": []
				},
				{
					"name": "POST Class with Large Payload - Response Time",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"let iter = pm.info.iteration || 0;",
									"let uniqueName = `LargeClass-${iter}-${Date.now()}`;",
									"pm.environment.set(\"uniqueClassName\", uniqueName);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response time is below 1000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(1000);",
									"});",
									"",
									"pm.test(\"Response time is below 2000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(2000);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"{{uniqueClassName}}\",\n    \"attributes\": [\n        {\"name_attr\": \"attr1\", \"type\": \"String\"},\n        {\"name_attr\": \"attr2\", \"type\": \"String\"},\n        {\"name_attr\": \"attr3\", \"type\": \"Integer\"},\n        {\"name_attr\": \"attr4\", \"type\": \"Real\"},\n        {\"name_attr\": \"attr5\", \"type\": \"Boolean\"},\n        {\"name_attr\": \"attr6\", \"type\": \"String\"},\n        {\"name_attr\": \"attr7\", \"type\": \"String\"},\n        {\"name_attr\": \"attr8\", \"type\": \"Integer\"},\n        {\"name_attr\": \"attr9\", \"type\": \"Real\"},\n        {\"name_attr\": \"attr10\", \"type\": \"Boolean\"}\n    ],\n    \"operations\": [\n        {\"head\": \"operation1()\", \"body\": null},\n        {\"head\": \"operation2()\", \"body\": null},\n        {\"head\": \"operation3()\", \"body\": null},\n        {\"head\": \"operation4()\", \"body\": null},\n        {\"head\": \"operation5()\", \"body\": null}\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "GET Model by Name - Response Time",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response time is below 300ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(300);",
									"});",
									"",
									"pm.test(\"Response time is below 500ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(500);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/model/TestModel"
					},
					"response": []
				}
			]
		},
		{
			"name": "HATEOAS and Link Validation",
			"item": [
				{
					"name": "Verify Model Links Structure",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has HATEOAS _links object\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('_links');",
									"    pm.expect(responseJson._links).to.be.an('object');",
									"});",
									"",
									"pm.test(\"Self link is present and valid\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson._links).to.have.property('self');",
									"    pm.expect(responseJson._links.self).to.have.property('href');",
									"});",
									"",
									"pm.test(\"Related resource links are present\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson._links).to.have.property('classes');",
									"    pm.expect(responseJson._links).to.have.property('invariants');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/model/TestModel"
					},
					"response": []
				},
				{
					"name": "Verify Classes Collection Links",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has HATEOAS structure\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('_links');",
									"    pm.expect(responseJson).to.have.property('_embedded');",
									"});",
									"",
									"pm.test(\"Self link is present\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson._links).to.have.property('self');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": "localhost:8080/api/model/TestModel/classes"
					},
					"response": []
				},
				{
					"name": "Verify Invariant Creation Links",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response has HATEOAS links\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson).to.have.property('_links');",
									"});",
									"",
									"pm.test(\"Model link is present\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson._links).to.have.property('model');",
									"});",
									"",
									"pm.test(\"Self link is present\", function () {",
									"    const responseJson = pm.response.json();",
									"    pm.expect(responseJson._links).to.have.property('self');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"invName\": \"LinkTestInvariant\",\n    \"invBody\": \"true\",\n    \"isExistential\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/Person/invariant"
					},
					"response": []
				}
			]
		},
		{
			"name": "Data Validation Tests",
			"item": [
				{
					"name": "Create Class - Missing Request Body",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "Create Model - Malformed JSON",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"name\": \"TestModel\",",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model"
					},
					"response": []
				},
				{
					"name": "Create Class - Wrong Data Type for Attributes",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400 or 500\", function () {",
									"    pm.expect([400, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name_mclass\": \"WrongTypeClass\",\n    \"attributes\": \"not-an-array\",\n    \"operations\": []\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/class"
					},
					"response": []
				},
				{
					"name": "Create Invariant - Missing Required Fields",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 400 or 500\", function () {",
									"    pm.expect([400, 500]).to.include(pm.response.code);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"isExistential\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": "localhost:8080/api/model/TestModel/Person/invariant"
					},
					"response": []
				}
			]
		}
	]
}
